---

###
# JobDefs
###
bacula__default__jobdefs:
  - Name: DefaultWindowsJob
    Type: Backup
    Level: Incremental
    Storage: "{{ bacula_storage_default }}"
    FileSet: default-windows-fs
    Max_Wait_Time: "{{ bacula_jobdef_maximum_wait_time | default(3600) }}"
    Prefer_Mounted_Volumes: no
    Maximum_Concurrent_Jobs: "{{ bacula_jobdef_maximum_concurrent_jobs | default(8) }}"
    Messages: "{{ bacula_messages_default }}"
    SpoolAttributes: yes
    Prune_Files: yes
    Prune_Jobs: yes
    Prune_Volumes: yes
    Priority: 10
  - Name: DefaultLinuxJob
    Type: Backup
    Level: Incremental
    Storage: "{{ bacula_storage_default }}"
    FileSet: default-linux-fs
    Max_Wait_Time: "{{ bacula_jobdef_maximum_wait_time | default(3600) }}"
    Prefer_Mounted_Volumes: no
    Maximum_Concurrent_Jobs: "{{ bacula_jobdef_maximum_concurrent_jobs | default(8) }}"
    Messages: "{{ bacula_messages_default }}"
    SpoolAttributes: yes
    Prune_Files: yes
    Prune_Jobs: yes
    Prune_Volumes: yes
    Priority: 10

bacula_jobdefs: |
  {{
    bacula__default__jobdefs +
    bacula_jobdefs_custom | default([])
  }}
