---


bacula_version: 11.0.5
bacula_community_registration: changeme! # Registration: https://www.bacula.org/bacula-binary-package-download/
bacula_download_url: "https://www.bacula.org/packages/{{ bacula_community_registration }}/bacula/debs/{{ bacula_version }}"
bacula_database_engine: mysql # postgresql, mysql , sqlite3
bacula_console: yes
bacula_aligned: no
bacula_common: yes
bacula_client: yes

bacula_root: /opt/bacula

bacula_owner: bacula
bacula_group: tape

bacula_dir_name: bacula-dir

bacula_dir_password: changeme!

bacula_dir__default__options:
  Name: "{{ bacula_dir_name }}"
  Description: "Some description here"
  DIRAddress: "0.0.0.0"
  DIRport: 9101
  Messages: "{{ bacula_messages_default }}"
  WorkingDirectory: "{{ bacula_root }}"
  PidDirectory: "{{ bacula_root + '/working/' }}"
  Heartbeat_Interval: 60
  Maximum_Concurrent_Jobs: 50
  QueryFile: "{{ bacula_dir_query_file | default(bacula_root + '/scripts/query.sql') }}"

bacula_dir_options: |
  {{ bacula_dir__default__options | combine(
    bacula_dir_custom_options | default({})
  )}}


bacula_messages_default: bacula-msg
bacula_console_password: changeme!

bacula_storage_default: default

bacula__default__jobdefs:
  - Name: DefaultWindowsJob
    Type: Backup
    Level: Incremental
    Storage: "{{ bacula_storage_default }}"
    FileSet: "default-windows-fs"
    Max_Wait_Time: "{{ bacula_jobdef_maximum_wait_time | default(3600) | int }}"
    Prefer_Mounted_Volumes: No
    Maximum_Concurrent_Jobs: "{{ bacula_jobdef_maximum_concurrent_jobs | default(8) | int }}"
    Messages: "{{ bacula_messages_default }}"
    SpoolAttributes: Yes
    Prune_Files: Yes
    Prune_Jobs: yes
    Prune_Volumes: Yes
    Priority: 10
  - Name: DefaultLinuxJob
    Type: Backup
    Level: Incremental
    Storage: "{{ bacula_storage_default }}"
    FileSet: "default-linux-fs"
    Max_Wait_Time: "{{ bacula_jobdef_maximum_wait_time | default(3600) | int }}"
    Prefer_Mounted_Volumes: No
    Maximum_Concurrent_Jobs: "{{ bacula_jobdef_maximum_concurrent_jobs | default(8) | int }}"
    Messages: "{{ bacula_messages_default }}"
    SpoolAttributes: Yes
    Prune_Files: Yes
    Prune_Jobs: yes
    Prune_Volumes: Yes
    Priority: 10

bacula_jobdefs: |
  {{ bacula__default__jobdefs | combine(
    bacula_jobdefs_custom | default({})
  )}}