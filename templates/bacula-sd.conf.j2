###############################
## Auto-generated by:        ##
##         Ansible           ##
## Don't do changes by hand  ##
## Role: matiferrigno.bacula ##
###############################

<<<<<<< HEAD
Storage {

  ###########
  ## Basic ##
  ###########
  Name = {{ bacula_sd_name }}
  SDPort = {{ bacula_sd_port }}
  SDAddress = {{ bacula_sd_address }}
  WorkingDirectory = {{ bacula_sd_working_directory }}
  PidDirectory = {{ bacula_sd_pid_directory }}
  Maximum Concurrent Jobs = {{ bacula_sd_maximum_concurrent_jobs }}

  #########
  ## TLS ##
  #########
{% if bacula_sd_tls_enabled|bool %}
  TLS Enable = yes
  TLS Require = {{ bacula_sd_tls_require }}
  TLS Verify Peer = {{ bacula_sd_tls_verify_peer }}
  TLS Certificate = {{ bacula_sd_tls_certificate }}
  TLS Key = {{ bacula_sd_tls_key }}
  TLS CA Certificate File = {{ bacula_sd_tls_ca_certificate }}
{% else %}
  TLS Enable = no
{% endif %}

  ###################
  ## Other options ##
  ###################
{% for element in bacula_sd_additional_options %}
{% if element.enabled|default(true)|bool %}
  {% if element.comment|d() %}
  {%   for line in element.comment.split('\n') | list %}
  # {{ line }}
  {%   endfor %}
  {% endif %}
  {{ element.name }} = {{ element.value }}
{% endif %}
{% endfor %}
=======
{% import "./templates/macros.j2" as macro %}
>>>>>>> develop

Storage {
{%  for opt in Storage | dict2items %}
{{ macro.proccess_opt(opt,2) }}
{%  endfor %}
}

{%  for dir in Directors | default([]) -%}
Director {
{%  for opt in dir | dict2items %}
{{ macro.proccess_opt(opt,2) }}
{%  endfor %}
}
{%  endfor %}

Messages {
  Name = Standard
  director = {{ bacula_director_default }} = all, !skipped, !restored
}

{%  for ac in Autochanger | default([]) -%}
Autochanger {
{%  for opt in ac | dict2items %}
{{ macro.proccess_opt(opt,2) }}
{%  endfor %}
}
{%  endfor %}

{%  for device in Devices | default([]) -%}
Device {
{%  for opt in device | dict2items %}
{{ macro.proccess_opt(opt,2) }}
{%  endfor %}
}
{%  endfor %}

{% for e in file_raw_lines | default([]) %}
{{ e }}
{% endfor %}
