###############################
## Auto-generated by:        ##
##         Ansible           ##
## Don't do changes by hand  ##
## Role: matiferrigno.bacula ##
###############################

{% macro print_opt(o) %}
  {{ o.key | replace('_',' ') }} = {{ o.value }}
{% endmacro %}

{% macro print_list(o) %}
{% for i in o.value %}
  {{ o.key | replace('_',' ') }} = {{ i }}
{% endfor %}
{% endmacro %}

{% macro proccess_opt(opt) %}
{% if opt.value | type_debug == "dict" %}
{% set opt_to_items = opt.value | dict2items %}
  {{ opt.key }} {
{%  for o2i in opt_to_items %}
    {{ proccess_opt(o2i) }}
{%  endfor %}
  }
{% elif opt.value | type_debug == "list" %}
  {{ print_list(opt) }}
{% else %}
  {{ print_opt(opt) }}
{% endif %}
{% endmacro %}

{{ resource }} {

{%  if resource_options is defined and resource_options | type_debug == "dict" %}
{%  for ro in resource_options | dict2items %}
  {{ proccess_opt(ro) }}
{%  endfor %}
{%  endif %}
{% for f in include_files | default([]) %}
@{{ f }}
{% endfor %}
{% for l in include_line | default([]) %}
{{ l }}
{% endfor %}

}
{% for e in include_endline | default([]) %}
{{ e }}
{% endfor %}