###############################
## Auto-generated by:        ##
##         Ansible           ##
## Don't do changes by hand  ##
## Role: matiferrigno.bacula ##
###############################

Device {
  Name = FileStorage-{{ item.name | default('default') }}
  Media Type = {{ item.media_type | default('File') }}
  Archive Device = "{{ item.archive_device | default('/var/backups/'+item.name) }}
  LabelMedia = {{ item.label_media | default(true) }}
  Random Access = {{ item.random_access | default(true) }}
  AutomaticMount = {{ item.automatic_mount | default(true) }}
  RemovableMedia = {{ item.removable_media | default(true) }}
  AlwaysOpen = {{ item.always_open | default(false) }}
  Maximum Concurrent Jobs = {{ item.maximum_concurrent_jobs | default(8) }}

{% for opt in item.extra_options %}
{% if opt.enabled|default(true)|bool %}
  {% if opt.comment is defined %}
  {%   for line in opt.comment.split('\n') | list %}
  # {{ line }}
  {%   endfor %}
  {% endif %}
  {{ opt.name }} = {{ opt.value }}
{% endif %}
{% endfor %}
}